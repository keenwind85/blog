---
title: "[기획자의 개발 도전기] 1편 - 기획자가 왜 백엔드를 뜯어고치게 되었나"
description: "외주사가 남긴 80컬럼 레거시 테이블을 마주한 스타트업 PO가 직접 백엔드 리팩토링을 결심한 이유. Spring Boot에서 Next.js API Routes로의 점진적 전환 전략."
date: 2026-01-05
tags:
  - 바이브코딩
  - 레거시
  - 리팩토링
  - 기획자
  - 백엔드
---

# 기획자가 왜 기존 시스템의 백엔드를 뜯어고치게 되었나

## 문제는 외주사가 개발해둔 레거시였다.

우리 서비스는 돌봄 분야 매칭 플랫폼이다. 보호자가 어르신을 위한 케어매니저를 찾고, 매칭하고, 돌봄 서비스를 관리하는 구조다. 초기에 외주 개발사를 통해 시스템을 구축했는데, 시간이 지나면서 문제가 하나둘 드러나기 시작했다.

가장 심각했던 건 **제대로 동작하지 않는 API가 많다는 것**이었다. 프론트엔드에서 API를 호출하면 예상과 다른 결과가 나오거나, 아예 에러가 나는 경우가 빈번했다. 그리고 우리 서비스의 핵심 도메인은 "회원"과 회원 간 "매칭"인데, 이 핵심 영역의 백엔드 구조가 엉망이었다.

구체적으로 이런 상황이었다:

- **matching 테이블 하나에 컬럼이 80개가 넘었다.** 매칭 요청, 수락, 진행, 종료까지 전부 한 레코드에 때려넣은 구조였다. 상태값 분기만 10개 이상이라 비즈니스 로직을 파악하는 것 자체가 고역이었다.
- **보조 테이블이 난립해 있었다.** matching_history, matching_address, matching_related_person, staff_hidden_matching... 정작 메인 테이블에 다 넣으면서 왜 보조 테이블을 또 만들었는지 이해가 안 됐다.
- **NULL이 난무했다.** 매칭 단계별로 채워지는 필드가 대부분 nullable이라 데이터 정합성을 보장할 수 없었다. 이건 나중에 진짜 큰 문제가 됐다.
- **변경 추적이 안 됐다.** 원본 데이터가 수정되면 요청 당시 시점의 정보를 알 수 없었다. 보호자가 매칭 요청할 때 어르신 주소가 A였는데, 나중에 B로 바꾸면 매칭 기록에도 B가 보이는 거다.

## 결심의 순간

기존 외주사와 이별 후 인하우스 개발을 위해서 주니어 프론트엔드, 주니어 백엔드 개발자 신규 채용 후 4인 이하의 소규모 팀을 이끌고 있었다. 
기존 프로젝트를 납품한 외주사에 리팩토링을 다시 맡기자니 커뮤니케이션 비용이 너무 컸고, 주니어 백엔드 개발자는 현 구조의 리팩토링을 할 수 있는 역량은 아니었으며, 새로운 개발자를 뽑자니 도메인 이해에 시간이 필요했다.

그때 생각했다.

> "프론트엔드는 이미 Next.js로 돌아가고 있다. 백엔드도 Next.js API Routes로 통합하면 프론트 개발자가 백엔드까지 볼 수 있지 않을까?"

기존 백엔드는 Spring Boot(Java 21 + JPA)였다. 여기에 Next.js API Routes + Prisma ORM을 얹어서 신규 API를 v2로 만들고, 기존 잘 동작하는 건 v1으로 유지하는 **점진적 전환 전략**을 세웠다.

기획자가 이런 아키텍처 결정을 내리다니, 나 스스로도 좀 놀랐다. 하지만 도메인을 가장 잘 아는 사람이 구조를 설계하는 게 맞다는 확신이 있었다.

## 전환 원칙: "신규 기능만 v2"

전체를 한 번에 갈아엎는 건 자살행위다. 그래서 원칙을 하나 세웠다.

> **(프론트와의 약속)** **기존에 잘 동작하는 화면은 v1 유지, 새로 만드는 기능은 v2 사용**

이걸 실현하기 위해 API Migration Map을 만들었다. 보호자 앱과 케어매니저 앱의 모든 화면을 나열하고, 각 화면이 어떤 API를 사용하는지, 그게 v1인지 v2인지 한눈에 볼 수 있게 정리했다.

예를 들면 이런 식이다:

| 기능 | 현재 | 전환 후 |
|------|------|---------|
| 로그인/OAuth | v1 유지 | 변경 불필요 |
| 케어매니저 검색 | v2 신규 | `GET /v2/staff/search` |
| 매칭 관리 | v2 신규 | `GET /v2/matching-complete` |
| 모니터링/돌봄일지 | v1 → v2 전환 예정 | `GET /v2/care-journal` |

로그인, 회원가입, 알림, 이미지 업로드 같은 건 안정적으로 동작하고 있으니 굳이 건드리지 않았다. 핵심 도메인인 회원 프로필, 매칭, 돌봄 기능에 집중했다.

## 앞으로의 이야기

이 시리즈에서는 내가 실제로 수행한 백엔드 리팩토링 과정을 순서대로 풀어보려 한다.

- **2편**: 80개 컬럼이 담긴 괴물 매칭 테이블을 어떻게 세 조각으로 나눴는지
- **3편**: 흩어진 회원 프로필 데이터를 정리하고, 검색 시스템을 개선한 이야기
- **4편**: 레거시 의존성을 끊고 돌봄 소통 서비스를 새로 만든 과정

기획자가 바이브 코딩으로 백엔드 리팩토링을 해낸다니, 누군가에겐 무모해 보일 수 있다. 하지만 도메인을 10년 넘게 씹어온 사람이 코드라는 도구를 새로 얻었을 때, 생각보다 강력한 일이 벌어진다.

다음 편에서는 이 여정의 하이라이트, 80컬럼짜리 매칭 테이블을 해체한 이야기를 해보겠다.
